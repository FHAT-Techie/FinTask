<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="index.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg==" crossorigin="anonymous" referrerpolicy="no-referrer" />

<script src="./index.js" defer></script>
</head>
<body>
<section class="headSection">
    <!-- header -->
<header class="desktopHeader">
    <div class="logo">
       
            <i class="fa-solid fa-bars"></i>
    
        <img src="/Resource/logo.png" alt="FinTask Logo">
    </div>
    <nav class="navBar">
    
        <ul>
            <li>
                <a href="Index.html" class="defaultNav">
                Finance News
            </a>
            </li>
            <li>
                <a href="to-do.html " class="defaultNav">
                ToDo List
            </a>
            </li>
            <li>
                <a href="expense-traker.html" class="pressedNav">
                Budgeting
            </a>
            </li>
            <li>
                <a href="weather-forcast.html" class="defaultNav">
                Weather Check
            </a>
            </li>
        </ul>
    </nav>

    <div class="calBTN">
        Calculator <i class="fa-solid fa-calculator"></i>
    </div>
</header>
    
<!-- tablet and mobile header -->

<header class="mobileHeader">
    
    <nav class="navBarTab">
        <div>
            <i class="fa-solid fa-xmark"></i>
        </div>
       
        <ul>
            
            <li>
                <a href="Index.html" class="defaultNavTab">
                Finance News
            </a>
            </li>
            <li>
                <a href="to-do.html " class="defaultNavTab">
                ToDo List
            </a>
            </li>
            <li>
                <a href="expense-traker.html" class="pressedNavTab">
                Budgeting
            </a>
            </li>
            <li>
                <a href="weather-forcast.html" class="defaultNavTab">
                Weather Check
            </a>
            </li>
        </ul>
    </nav>

</header>




<!-- weather section -->
<div class="weathersectionwraper">
<section class="weatherCon">
   <div class="weatherBox city1">
    <div class="degree">
        <p class="lagosDegree"></p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Lagos</p>
   </div>
   </div> 
   <div class="weatherBox city2">
    <div class="degree degreebox2">
        <p class="accraDegree">0</p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p class="">Accra</p>
   </div>
   </div> 
   <div class="weatherBox city3">
    <div class="degree degreebox3">
        <p class="londonDegree">0°</p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>London</p>
   </div>
   </div> 
   <div class="weatherBox city4">
    <div class="degree degreebox4">
        <p class="parisDegree"></p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Paris</p>
   </div>
   </div> 
   <div class="weatherBox city5">
    <div class="degree degreebox5">
        <p class="newyorkDegree">0°</p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>New york</p>
   </div>
   </div> 
   <div class="weatherBox city6">
    <div class="degree degreebox6">
        <p class="manchesterDegree"></p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Manchester</p>
   </div>
   </div> 
   <div class="weatherBox city7">
    <div class="degree degreebox7">
        <p class="dakarDegree"></p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Dakar</p>
   </div>
   </div> 
   <div class="weatherBox city8">
    <div class="degree degreebox8">
        <p class="abujaDegree" >0°</p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Abuja</p>
   </div>
   </div> 
   <div class="weatherBox city9">
    <div class="degree degreebox9">
        <p class="madridDegree"></p>
        <!-- <i class="fa-solid fa-snowflake"></i> -->
    </div>
   <div class="city">
    <p>Madrid</p>
   </div>
   </div> 
</div>
</section>
</section>

<section class="calculatorSection">
    <div class="calculator">
        <div>
            <i class="fa-solid fa-xmark" id="cancelOverlay"></i>
            </div>
        <form action="">
        <input type="text" class="calInput">
            <div class="buttonsection">
                <div class="role1">
                    <button class="secBTN" id="clearCal">C</button>
                    <button class="secBTN" id="delCal">DEL</button>
                    <button class="secBTN" id="perCal" value="%">%</button>
                    <button id="plusBTN" value="+" class="mainBTN"><i class="fa-solid fa-plus"></i></button>
                </div>
                <div class="role1">
                    <button class="priBTN" id="one" value="1">1</button>
                    <button class="priBTN" id="two" value="2">2</button>
                    <button class="priBTN" id="three" value="3">3</button>
                    <button class="mainBTN" value="/" id="divideCal" ><i class="fa-solid fa-divide"></i></button>
                </div>
                <div class="role1">
                    <button class="priBTN" id="four" value="4">4</button>
                    <button class="priBTN" id="five" value="5">5</button>
                    <button class="priBTN" id="six" value="6">6</button>
                    <button class="mainBTN" id="minusCal" value="-"><i class="fa-solid fa-minus"></i></button>
                </div>
                <div class="role1">
                    <button class="priBTN" id="seven" value="7">7</button>
                    <button class="priBTN" id="eight" value="8">8</button>
                    <button class="priBTN" id="nine" value="9">9</button>
                    <button class="mainBTN" id="mulCal" value="*"><i class="fa-solid fa-xmark"></i></button>
                </div>
                <div class="role1">
                    <button class="priBTN" id="zero" value="0">0</button>
                    <button class="priBTN" value=".">.</button>
                    <button class="mainBTN equal"><i class="fa-solid fa-equals"></i></button>
                </div>
            </div>
        </form>
    </div>
</section>
<main class="budgetmain">
    <section class="addBudgetAddExpenses">
        <button class="openAddBudget">Add Budget <i class="fa-solid fa-plus"></i></button>
        <button class="openAddExpenses">Add Expenses <i class="fa-solid fa-plus"></i></button>
    </section>

    <section class="addBudgetOverlay">
        <form class="addBudgetForm">
            <i class="fa-solid fa-xmark closeBudget"></i>
            <div class="budgetField">
                <label for="addBudget">Budget:</label>
                <input type="number" name="addBudget" class="addBudgetInput" placeholder="Enter Budget Amount">
            </div>
            <button class="addBudget" id="addBudgetBTN" type="submit">Add Budget</button>
        </form>
    </section>

    <section class="addExpenesOverlay">
        <form class="addExpensesForm">
            <i class="fa-solid fa-xmark closeExpenses"></i>
            <div class="expensesField">
                <label for="addExpensesName">Expenses Name:</label>
                <input type="text" name="addExpensesName" class="addExpensesName" placeholder="Enter Expenses Name">
            </div>
            <div class="expensesField">
                <label for="addExpenses">Expenses Amount:</label>
                <input type="number" name="addExpenses" class="addExpenses" placeholder="Enter Expenses Amount">
            </div>
            <button class="addExpensesBTN" type="submit">Add Expenses</button>
        </form>
    </section>
</main>

<main class="budgetExpensesOutput">
    <div class="dashboard">
        <div class="budgetOutput">
            <i class="fa-solid fa-wallet"></i>
            <h3>Budget</h3>
            <h1 id="budgetValue">0</h1>
        </div>
        <div class="expensesOutput">
            <i class="fa-solid fa-money-bill-wave"></i>
            <h3>Expenses</h3>
            <h1 id="expensesValue">0</h1>
        </div>
        <div class="balanceOutput">
            <i class="fa-solid fa-naira-sign"></i>
            <h3>Balance</h3>
            <h1 id="balanceValue">0</h1>
        </div>
    </div>

    <div class="expensesContainer"></div>
</main>


<script>function budgeting() {
    let openBudgetOverlay = document.querySelector('.openAddBudget');
    let addBudgetOverlay = document.querySelector('.addBudgetOverlay');
    let closeBudgetOverlay = document.querySelector('.closeBudget');

    let openExpensesOverlay = document.querySelector('.openAddExpenses');
    let addExpensesOverlay = document.querySelector('.addExpenesOverlay');
    let closeExpensesOverlay = document.querySelector('.closeExpenses');

    // Open and close budget overlay
    openBudgetOverlay.addEventListener('click', () => {
        addBudgetOverlay.style.display = 'flex';
    });

    closeBudgetOverlay.addEventListener('click', () => {
        addBudgetOverlay.style.display = 'none';
    });

    // Open and close expenses overlay
    openExpensesOverlay.addEventListener('click', () => {
        addExpensesOverlay.style.display = 'flex';
    });

    closeExpensesOverlay.addEventListener('click', () => {
        addExpensesOverlay.style.display = 'none';
    });
}

budgeting();
infoCollectionAndDisplay();

let totalExpenses = 0;

function infoCollectionAndDisplay() {
    // Budget Form Elements
    let addBudgetForm = document.querySelector('.addBudgetForm');
    let budgetValueInput = document.querySelector('.addBudgetInput');
    let budgetValueDisplay = document.querySelector('#budgetValue');
    let balanceValueDisplay = document.querySelector('#balanceValue');

    // Expenses Form Elements
    let addExpensesForm = document.querySelector('.addExpensesForm');
    let expensesNameInput = document.querySelector('.addExpensesName');
    let expensesAmountInput = document.querySelector('.addExpenses');
    let expensesValueDisplay = document.querySelector('#expensesValue');
    let expensesContainer = document.querySelector('.expensesContainer');

    // Load budget and expenses from local storage
    loadFromLocalStorage();

    // Handle budget form submission
    addBudgetForm.addEventListener('submit', (event) => {
        event.preventDefault();
        let budget = parseFloat(budgetValueInput.value);
        if (!isNaN(budget) && budget > 0) {
            budgetValueDisplay.textContent = `₦${budget.toLocaleString()}`;
            updateBalance(budget);
            addBudgetOverlay.style.display = 'none';
            addBudgetForm.reset();
            saveToLocalStorage(); // Save budget to local storage
        }
    });

    // Handle expenses form submission
    addExpensesForm.addEventListener('submit', (event) => {
        event.preventDefault();
        let expenseName = expensesNameInput.value;
        let expenseAmount = parseFloat(expensesAmountInput.value);

        if (expenseName && !isNaN(expenseAmount) && expenseAmount > 0) {
            totalExpenses += expenseAmount;
            expensesValueDisplay.textContent = `₦${totalExpenses.toLocaleString()}`;
            let budget = parseFloat(budgetValueDisplay.textContent.replace('₦', '').replace(/,/g, ''));
            updateBalance(budget);

            // Add expense to list
            addExpenseToList(expenseName, expenseAmount);

            // Reset the form and close overlay
            addExpensesForm.reset();
            addExpensesOverlay.style.display = 'none';
            saveToLocalStorage(); // Save expenses to local storage
        }
    });
}

// Function to update balance display
function updateBalance(budget) {
    let balanceValueDisplay = document.querySelector('#balanceValue');
    balanceValueDisplay.textContent = `₦${(budget - totalExpenses).toLocaleString()}`;
}

// Function to add expense to the list
function addExpenseToList(name, amount) {
    let expensesContainer = document.querySelector('.expensesContainer');
    let expenseItem = document.createElement('div');
    expenseItem.classList.add('expensesItem');
    expenseItem.innerHTML = `
        <div class="topexpensesItem">
            <h3>${name}</h3>
            <p>₦${amount.toLocaleString()}</p>
        </div>
        <div class="buttomexpensesItem">
            <button class="deleteExpense"><i class="fa-solid fa-trash"></i></button>
        </div>
    `;
    expensesContainer.appendChild(expenseItem);

    // Add delete functionality
    expenseItem.querySelector('.deleteExpense').addEventListener('click', () => {
        totalExpenses -= amount;
        expensesValueDisplay.textContent = `₦${totalExpenses.toLocaleString()}`;
        let budget = parseFloat(budgetValueDisplay.textContent.replace('₦', '').replace(/,/g, ''));
        updateBalance(budget);
        expensesContainer.removeChild(expenseItem);
        saveToLocalStorage(); // Save changes to local storage
    });
}

// Function to save budget and expenses to local storage
function saveToLocalStorage() {
    const budget = document.querySelector('#budgetValue').textContent.replace('₦', '').replace(/,/g, '');
    localStorage.setItem('budget', budget);
    localStorage.setItem('totalExpenses', totalExpenses);
}

// Function to load budget and expenses from local storage
function loadFromLocalStorage() {
    const budget = localStorage.getItem('budget');
    const expenses = localStorage.getItem('totalExpenses');

    if (budget) {
        totalExpenses = parseFloat(expenses) || 0;
        document.querySelector('#budgetValue').textContent = `₦${parseFloat(budget).toLocaleString()}`;
        document.querySelector('#expensesValue').textContent = `₦${totalExpenses.toLocaleString()}`;
        let balanceValueDisplay = document.querySelector('#balanceValue');
        balanceValueDisplay.textContent = `₦${(parseFloat(budget) - totalExpenses).toLocaleString()}`;
    }
}


</script>


</html>